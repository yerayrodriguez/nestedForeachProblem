<!DOCTYPE html>
<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>
    <h:form id="form" prependId="false">
        <h:commandButton actionListener="#{testManager.extractFirst()}" ajax="true" update="@form" value="Submit" />
        <ul>
            <c:forEach var="parent" items="#{testManager.root}">
                <li>Parent #{parent.id}</li>
                <ul>
                    <c:forEach var="child" items="#{parent.children}" varStatus="childIndex">
                        <li>Child #{child.id} (#{childIndex.current.id})</li>
                    </c:forEach>
                </ul>
            </c:forEach>
        </ul>
    </h:form>
</h:body>
</html>